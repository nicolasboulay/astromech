<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SIMULATEUR: comSeriePC_PIC.cpp Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.3.7 -->
<div class="qindex">  <form class="search" action="search.php" method="get">
<a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="files.html">File&nbsp;List</a>  | <span class="search"><u>S</u>earch&nbsp;for&nbsp;<input class="search" type="text" name="query" value="" size="20" accesskey="s"/></span></form></div>
<h1>comSeriePC_PIC.cpp</h1><pre class="fragment"><div>00001 <span class="preprocessor">#include "module.h"</span>
00002 <span class="preprocessor">#include "algo.h"</span>
00003 <span class="preprocessor">#include "comSeriePC_PIC.h"</span>
00004 <span class="preprocessor">#include "systeme.h"</span>
00005 <span class="preprocessor">#include "trace.h"</span>
00006 <span class="preprocessor">#include "tinyxml.h"</span>
00007 <span class="preprocessor">#include "geom2D.h"</span>
00008 
00009 <span class="keyword">using</span> <span class="keyword">namespace </span>std;
00010 TramePIC_PC::TramePIC_PC(<span class="keywordtype">void</span>)
00011 {
00012 
00013 }
00014 TramePIC_PC::~TramePIC_PC(<span class="keywordtype">void</span>)
00015 {
00016   <span class="comment">//delete pos_att_vit;</span>
00017 }
00018 TramePC_PIC::TramePC_PIC(<span class="keywordtype">void</span>)
00019 {
00020   numeroSequenceWP = -1;
00021   tabWayPoint.clear();
00022 }
00023 TramePC_PIC::~TramePC_PIC(<span class="keywordtype">void</span>)
00024 {
00025   <span class="comment">//on efface la liste des wp</span>
00026   vectorWayPoint::iterator it;
00027   cout &lt;&lt; tabWayPoint.size() &lt;&lt;endl;
00028   <span class="keywordflow">for</span> (it = tabWayPoint.begin();it!=tabWayPoint.end();++it)
00029   {
00030     <span class="keyword">delete</span>(*it);
00031   }
00032 }
00033 
00034   
00035 ComSeriePC_PIC::ComSeriePC_PIC(Systeme *s,Trace * t):Algo(s,t)
00036 {
00037   trace = t;
00038   src = <span class="stringliteral">"comSeriePC_PIC.cpp"</span>;
00039   cl = <span class="stringliteral">"ComSeriePC_PIC"</span>;
00040   message = <span class="stringliteral">"debut"</span>;
00041   trace-&gt;print(src,cl,<span class="stringliteral">"ComSeriePC_PIC"</span>,message);
00042   
00043   flagTramePC_PIC_recue = <span class="keyword">false</span>;
00044   flagTramePIC_PC_recue = <span class="keyword">false</span>;
00045   flagSynchroTramePC_PIC_recue = <span class="keyword">false</span>;
00046   flagSynchroTramePIC_PC_recue = <span class="keyword">false</span>;
00047     
00048   message = <span class="stringliteral">"fin"</span>;
00049   trace-&gt;print(src,cl,<span class="stringliteral">"ComSeriePC_PIC"</span>,message);
00050 }
00051 
00052 ComSeriePC_PIC::~ComSeriePC_PIC(<span class="keywordtype">void</span>)
00053 {
00054   message = <span class="stringliteral">"debut"</span>;
00055   trace-&gt;print(src,cl,<span class="stringliteral">"~ComSeriePC_PIC"</span>,message);
00056   message = <span class="stringliteral">"fin"</span>;
00057   trace-&gt;print(src,cl,<span class="stringliteral">"~ComSeriePC_PIC"</span>,message);
00058 }
00059 
00060 <span class="keywordtype">void</span> ComSeriePC_PIC::execute(<span class="keywordtype">int</span> tempsCourant_ms)
00061 {
00062   message = <span class="stringliteral">"debut"</span>;
00063   trace-&gt;print(src,cl,<span class="stringliteral">"execute"</span>,message);
00064   
00065   <span class="keywordflow">if</span> (flagTramePC_PIC_recue)
00066   {
00067     flagSynchroTramePC_PIC_recue = <span class="keyword">true</span>;
00068     flagTramePC_PIC_recue = <span class="keyword">false</span>;
00069     log &lt;&lt; tempsCourant_ms &lt;&lt;<span class="stringliteral">"\t"</span>&lt;&lt;<span class="stringliteral">"flagTramePC_PIC_recue"</span>&lt;&lt;endl; 
00070   }
00071   
00072   <span class="keywordflow">if</span> (flagTramePIC_PC_recue)
00073   {
00074     flagSynchroTramePIC_PC_recue = <span class="keyword">true</span>;
00075     flagTramePIC_PC_recue = <span class="keyword">false</span>;
00076     log &lt;&lt; tempsCourant_ms &lt;&lt;<span class="stringliteral">"\t"</span>&lt;&lt;<span class="stringliteral">"flagTramePIC_PC_recue"</span>&lt;&lt;endl;
00077   }
00078 
00079   message = <span class="stringliteral">"fin"</span>;
00080   trace-&gt;print(src,cl,<span class="stringliteral">"execute"</span>,message);
00081 }
00082 <span class="keywordtype">void</span> ComSeriePC_PIC::sendToPIC(TramePC_PIC * trame)
00083 {
00084   message = <span class="stringliteral">"debut"</span>;
00085   trace-&gt;print(src,cl,<span class="stringliteral">"sendToPIC"</span>,message);
00086   tramePC_PIC = trame;
00087   flagTramePC_PIC_recue = <span class="keyword">true</span>; 
00088   message = <span class="stringliteral">"fin"</span>;
00089   trace-&gt;print(src,cl,<span class="stringliteral">"sendToPIC"</span>,message);
00090 }
00091 <span class="keywordtype">void</span> ComSeriePC_PIC::sendToPC(TramePIC_PC * trame){
00092   message = <span class="stringliteral">"debut"</span>;
00093   trace-&gt;print(src,cl,<span class="stringliteral">"sendToPC"</span>,message);
00094   tramePIC_PC = trame;
00095   flagTramePIC_PC_recue = <span class="keyword">true</span>;
00096   message = <span class="stringliteral">"fin"</span>;
00097   trace-&gt;print(src,cl,<span class="stringliteral">"sendToPC"</span>,message);
00098 }
00099 <span class="keywordtype">bool</span> ComSeriePC_PIC::tramePIC_PC_recue(<span class="keywordtype">void</span>)
00100 {
00101   <span class="keywordflow">return</span> flagSynchroTramePIC_PC_recue;
00102 }
00103 <span class="keywordtype">bool</span> ComSeriePC_PIC::tramePC_PIC_recue(<span class="keywordtype">void</span>)
00104 {
00105   <span class="keywordflow">return</span> flagSynchroTramePC_PIC_recue;
00106 }
00107 TramePC_PIC * ComSeriePC_PIC::getTramePC_PIC(<span class="keywordtype">void</span>)
00108 {
00109   flagSynchroTramePC_PIC_recue = <span class="keyword">false</span>;
00110   <span class="keywordflow">return</span> tramePC_PIC;
00111 }
00112 TramePIC_PC * ComSeriePC_PIC::getTramePIC_PC(<span class="keywordtype">void</span>)
00113 {
00114   flagSynchroTramePIC_PC_recue = <span class="keyword">false</span>;
00115   <span class="keywordflow">return</span> tramePIC_PC;
00116 }
00117 <span class="keywordtype">void</span> ComSeriePC_PIC::chargerXML(TiXmlElement* pModuleXML)
00118 {
00119   message = <span class="stringliteral">"debut"</span>;
00120   trace-&gt;print(src,cl,<span class="stringliteral">"chargerXML"</span>,message);
00121   Algo::chargerXML(pModuleXML);
00122       
00123   message = <span class="stringliteral">"fin"</span>;
00124   trace-&gt;print(src,cl,<span class="stringliteral">"chargerXML"</span>,message);
00125 }
00126 
00127 <span class="keywordtype">void</span> ComSeriePC_PIC::connectModules(<span class="keywordtype">void</span>)
00128 {
00129   message = <span class="stringliteral">"debut"</span>;
00130   trace-&gt;print(src,cl,<span class="stringliteral">"connectModules"</span>,message);
00131     
00132   message = <span class="stringliteral">"fin"</span>;
00133   trace-&gt;print(src,cl,<span class="stringliteral">"connectModules"</span>,message);
00134 }
00135 
00136 
</div></pre><hr size="1"><address style="align: right;"><small>Generated on Thu Apr 27 10:54:52 2006 for SIMULATEUR by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 ></a> 1.3.7 </small></address>
</body>
</html>
